CREATE TABLE IF NOT EXISTS RESERVATION_TIME
(
    ID       BIGINT GENERATED BY DEFAULT AS IDENTITY,
    START_AT TIME(6) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS MEMBER
(
    ID       BIGINT GENERATED BY DEFAULT AS IDENTITY,
    MEMBER_NAME VARCHAR(255) NOT NULL,
    EMAIL       VARCHAR(255) NOT NULL,
    PASSWORD    VARCHAR(255) NOT NULL,
    MEMBER_ROLE VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS THEME
(
    ID          BIGINT GENERATED BY DEFAULT AS IDENTITY,
    THEME_NAME        VARCHAR(255) NOT NULL,
    DESCRIPTION VARCHAR(255) NOT NULL,
    THUMBNAIL   VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS RESERVATION
(
    ID        BIGINT GENERATED BY DEFAULT AS IDENTITY,
    DATE      DATE NOT NULL,
    MEMBER_ID BIGINT NOT NULL,
    THEME_ID  BIGINT NOT NULL,
    TIME_ID   BIGINT NOT NULL,
    STATUS    VARCHAR(255) NOT NULL,
    CREATED_AT TIMESTAMP NOT NULL,
    PRIMARY KEY (ID),
    UNIQUE (DATE, MEMBER_ID, THEME_ID, TIME_ID)
);
