# 예약 대기 기능 요구사항

1. 예약 페이지를 예약 대기 버튼이 있도록 변경한다.
    - 클라이언트 코드 수정
    - TODO: [3단계]코드 변경
2. 예약 대기, 취소 api 구현
    - 슬롯에 내 예약, 예약 대기에 존재하면, 예약, 예약 대기 못함
    - 예약대기 조회시 대기 우선순위 포함하기
3. 내 예약 조회시 예약 대기, 예약 모두 조회
4. 예약 취소시 관리자가 수동으로 예약 대기를 승인해주도록 변경
    - TODO: [4단계]코드 변경

# 테이블 설계

## 요구사항 분석

- 예약 일정에 이미 예약이 있다면, 예약 대기를 할 수 있다.
- 예약 대기는 생성된 순서에 따라서 우선순위를 가진다.
- 예약이 취소됐다면, 예약 대기는 관리자가 승인해줄 수 있다.
- 예약 대기를 취소할 수 있다.
- 하나의 예약 일정에 여러번 예약할 수 없다.
- 하나의 예약 대기에 여러번 예약 대기를 할 수 없다.
- 하나의 예약 일정에 예약을 했다면 그 일정에 예약 대기를 할 수 없다.

### 예약 일정 요구사항

- 테마는 등록된 모든 시간에 대한 일정을 가진다.
- 기본적으로 요일별 일정을 등록할 수 있지만, 특정한 날짜에 원하게 일정을 조정할 수 있다.(휴가, 공휴일인 경우)
- 예약 할수 있는 기간을 2달로 가정한다.

## Entity

- 예약 일정

## 관계

- 예약하다.
- 예약 대기하다.

### 확장 가능성

- 기본 예약 일정 -> 요일별 기본 예약 일정 entity
- 지점별 예약 기간 저장
    - 기간에 맞게 기본 예약 일정을 참고하여 예약 일정 생성(스케출링)
- 예약 일정 수정 가능
- 지점 추가 가능

# TODO

> 15:45 ~ 17:45까지 3번 까지 구현 목표

1. e2e테스트 작성 (10분)
    - 예약 대기
        - `POST /reservations/waits`
    - 예약 대기 승인
        - `POST /reservations/waits/{id}/approve`
    - 예약 대기 취소
        - `DELETE /reservations/waits/{id}/cancel`
    - 내 예약 조회(예약, 대기 모두 조회)
        - `GET /reservations`
    - 예약 대기 조회
        - `GET /reservatins/waits`
2. 테이블 설계 (30분)
3. 테이블 생성 쿼리 작성(20분)
4. entity 코드 작성 (30분)
5. 변경된 entity로 기존 코드 돌아가게 수정하기 (1시간)
6. api구현 (30분)
    - 예약 대기
    - 예약 대기 승인
    - 예약 대기 취소
    - 예약 조회(예약, 대기 모두 조회)
7. 단계, 4단계 클라이언트 코드 수정 (15분)

## TODO

- 내 예약 조회시 예약 대기도 포함하기
- 클라이언트 코드 수정하기
