# 기능 요구 사항

### 테마

* [x] 썸네일이 존재하지 않을 경우 기본 썸네일로 대체

## 예외 사항

### 예약

* [x] 중복 예약 불가
    * ex. 이미 4월 1일 10시에 예약이 되어있다면, 4월 1일 10시에 대한 예약 생성 불가
* [x] 지나간 날짜와 시간에 대한 예약 생성 불가
* [x] 유효하지 않은 날짜
* [x] 존재하지 않은 시간(id)으로 예약 생성 불가
* [x] 같은 날짜 지난시간 disable하게 하기

### 예약 시간

* [x] 유효하지 않은 시간
* [x] 특정 시간에 대한 예약이 존재하는데, 그 시간을 삭제하려 할 때

### 테마

* [x] 유효하지 않은 테마 이름
* [x] 특정 테마에 대한 예약이 존재하는데, 그 테마를 삭제하려 할 때

<br>

### 사용자 로그인

* [x] GET /login 요청시 로그인 폼 응답
* [x] POST /login 요청시 body 에 email, password 포함
* [x] 응답 쿠키에 "token"값으로 토큰 포함

### 인증 정보 조회

* [x] GET /login/check 요청시 쿠키를 사용해 로그인 사용자 정보 반환

### 관리자 기능

* [x] member의 role이 admin인 사람만 /admin 접근 권한 허용

### 예약 목록 검색

* [x] 예약자별, 테마별, 날짜별 검색 조건 기능

### 사용자 기능

* [x] 나의 예약 조회 기능

### 예약 대기 기능

* [x] 예약이 있는 상태에선 예약 대기
* [x] 나의 예약 목록에서 예약 대기 순서 확인
* [x] 어드민 페이지에서 예약 대기 목록 조회
* [x] 멤버는 같은 테마,시간,날짜에 대해 한번의 예약 대기만 가능
* [x] 멤버는 예약한 테마,시간,날짜에 대해 예약 대기 불가

## 정책

* 내 예약 목록에서 예약과 예약 대기 조회
  * 몇번째 예약 대기인지 확인 가능
* 동시에 예약 요청이 올 경우 한 사람은 예약, 다른 사람은 예약 대기로 빠진다.
  * 구현 방법: 예약 요청과 예약 대기 요청의 API 및 테이블 동일
* USER는 자신의 예약 대기만 취소만 가능. 예약은 취소 불가능
  * 구현 방법: 쿼리를 날려 삭제하고자 하는 ID가 자신의 예약인지, 예약대기인지 확인
* ADMIN은 USER의 예약 대기를 거절할 수 있다.
* 예약 대기 승인은 자동으로 한다.
  * ADMIN이 USER의 예약을 취소하면 가장 먼저 예약 대기한 USER가 예약 대기에서 예약이 된다.

## 고민

* 예약대기 테이블 생성? vs reserved, wait 필드 추가? vs 아니면 순서로 비비기?
* 예약대기 취소 api 설계를 예약 취소 api랑 다르게?
